<!DOCTYPE html>
<!--
  ~ Copyright 2018 Red Hat, Inc. and/or its affiliates.
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~       http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<!-- SECOND DOCK TAB - TEST TOOLS -->
<div id="right-panel" class="tab-pane kie-dock active" style="overflow-y: auto">
    <hr class="kie-dock__divider"/>

    <ul data-field="rightPanelTabs" class="nav nav-tabs nav-tabs-pf" id="kieTestTools" role="tablist">
        <li class="nav-item active">
            <a class="nav-link"
               id="editorTab"
               data-toggle="tab"
               href="#kieTestEditorTabContent"
               role="tab" aria-controls="Test Editor"
               aria-selected="true"
               style="margin-left: 1em;">Test Editor</a>
        </li>
        <li class="nav-item">
            <a class="nav-link"
               id="cheatSheetTab"
               data-toggle="tab"
               href="#kieScenarioCheatsheetTabContent"
               role="tab" aria-controls="Test Editor"
               aria-selected="true">Scenario Cheatsheet</a>
        </li>
    </ul>

    <div class="tab-content" id="kieTestToolsContent">
        <!-- content for the test editor tab -->
        <div id="kieTestEditorTabContent"
             class="tab-pane fade in active"
             aria-labelledby="Test Editor" style="padding: 1em">
            <br/>
            <p>To create a test template, define the "Given" and "Expect" columns by using the expression editor below.</p>

            <label for="kie-search">Select Data Object</label>
            <div id="kie-search" class="kie-test-tools-content__box"><!-- outlined data object box -->
                <!-- search box -->
                <form role="form" class="search-pf has-button">
                    <div class="form-group has-clear">
                        <div class="search-pf-input-group">
                            <!-- <label for="search1" class="sr-only">Search</label> -->
                            <input id="search1" type="search" class="form-control" data-field="inputSearch" placeholder="Search">
                            <button type="button" class="clear" data-field="clearSearchButton" aria-hidden="true">
                                <span class="pficon pficon-close"></span>
                            </button>
                        </div>
                    </div>
                    <div class="form-group">
                        <button class="btn btn-default" type="button" data-field="searchButton">
                            <span class="fa fa-search"></span></button>
                    </div>
                </form>
                <!-- end search box -->

                <!-- data object list expansion -->
                <div id="data-object-pf-list-simple-expansion" class="list-group tree-list-view-pf-view kie-tree-list-view-pf-view--compact" data-field="dataObjectListContainer"></div>
                <!-- end list expansion -->
                <hr>
                <!-- simple java type list expansion -->
                <div id="simple-java-type-pf-list-simple-expansion" class="list-group tree-list-view-pf-view kie-tree-list-view-pf-view--compact" data-field="simpleJavaTypeListContainer"></div>
                <!-- end list expansion -->
                <hr>
                <!-- instance list expansion -->
                <div id="instance-pf-list-simple-expansion" class="list-group tree-list-view-pf-view kie-tree-list-view-pf-view--compact" data-field="instanceListContainer"></div>
                <!-- end list expansion -->
                <hr>
                <!-- instance list expansion -->
                <div id="simple-java-instance-pf-list-simple-expansion" class="list-group tree-list-view-pf-view kie-tree-list-view-pf-view--compact" data-field="simpleJavaInstanceListContainer"></div>
                <!-- end list expansion -->

            </div><!-- end outlined data object box -->

            <div>
                <label for="kie-name" style="display: none">Name Field</label>
                <input id="kie-name" type="text" class="form-control" placeholder="Name" data-field="nameField" style="display: none">

                <br/>

                <label for="kieDropdownConditions" style="display: none">Set Conditions</label>
                <div class="dropdown" style="display: none">
                    <button class="btn btn-default dropdown-toggle" type="button" id="kieDropdownConditions" data-toggle="dropdown" data-field="conditionsButton">
                        Condition
                        <span class="caret"></span>
                    </button>
                    <ul class="dropdown-menu" role="menu" aria-labelledby="kieDropdownConditions" data-field="conditionsDropdown">
                        <li role="presentation"><a role="menuitem" tabindex="-1" href="#">Required</a></li>
                        <li role="presentation"><a role="menuitem" tabindex="-1" href="#">Preferred</a></li>
                        <li role="presentation"><a role="menuitem" tabindex="-1" href="#">Other options here</a></li>
                    </ul>
                </div>

                <hr/>
                <button class="btn btn-default" type="button" data-field="addButton">Add</button>
                <a href="#0" role="button" style="display: none">Clear</a>
            </div>
        </div>
        <br/>
        <!-- content for cheatsheet tab -->
        <div id="kieScenarioCheatsheetTabContent"
             class="tab-pane fade"
             aria-labelledby="Scenario Cheatsheet"
             style="padding: 1em">

            <p>To start off, right-click a cell in the table and use the contextual menus to insert new columns and rows.</p>
            <p>Before defining the individual test scenarios, set the instance and field mappings for each column. Select a header cell and in the <b>Test Editor</b> tab, choose the required field. Click <b>Add</b> to set the mapping.</p>
            <p>Now, define the test scenarios. Each cell of the table must contain a valid expression.</p>

            <h4>Rule-based scenarios</h4>
            <p>In rule-based scenarios, the following expressions are supported:</p>

            <ul>
                <li><tt>=</tt> (or no symbol) specifies equality of a value. This is the default operator of each column and the only operator that is supported in the GIVEN section of the table.</li>
                <li><tt>!</tt>, <tt>!=</tt>, <tt>&lt;&gt;</tt> specify inequality of a value. This operator can be combined with other operators.</li>
                <li><tt>&lt;</tt>, <tt>&gt;</tt>, <tt>&lt;=</tt>, <tt>&gt;=</tt> specify a comparison: less than, greater than, less or equals than, and greater or equals than.</li>
                <li><tt>[value1, value2, value3]</tt> specifies a list of values. If <b>one or more</b> values are valid, the scenario definition is evaluated as true.</li>
                <li><tt>expression1; expression2; expression3</tt> specifies a list of expressions. If <b>all</b> expressions are valid, the scenario definition is evaluated as true.</li>
                <li>An empty cell equals to <tt>null</tt>. To define an empty string, use <tt>=</tt>.</li>
            </ul>

            <p>Example expressions:</p>

            <ul>
                <li><tt>&lt; 1</tt></li>
                <li><tt>&lt; 1; ! [-1, 0]</tt></li>
                <li><tt>[Jane, Doe]</tt></li>
                <li><tt>&lt;&gt; [1, -1]; = 0</tt></li>
            </ul>

            <h4>DMN-based scenarios</h4>
            <p>DMN-based scenarios use the FEEL expression language. Supported data types are:</p>

            <ul>
                <li><i>numbers</i> and <i>strings</i> (strings must be delimited by quotation marks), for example <tt>"John Doe"</tt></li>
                <li><i>boolean values</i> (<tt>true</tt>, <tt>false</tt>, and <tt>null</tt>)</li>
                <li><i>dates</i> and <i>time</i>, for example <tt>date("2019-05-13")</tt> or <tt>time("14:10:00+02:00")</tt></li>
                <li><i>functions</i></li>
                <li><i>contexts</i>, for example <tt>{x : 5, y : 3}</tt></li>
                <li><i>ranges</i> and <i>lists</i>, for example <tt>[1 .. 10]</tt> or <tt>[2, 3, 4, 5]</tt></li>
            </ul>

        </div>
    </div>
</div>
